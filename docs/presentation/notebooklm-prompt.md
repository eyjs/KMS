# NotebookLM PPT 생성용 소스 문서

> 이 문서를 NotebookLM에 업로드한 뒤, 아래 프롬프트를 사용하여 보고용 PPT(PDF) 콘텐츠를 생성하세요.

---

## 프롬프트

```
아래 소스 문서를 기반으로 "GA 보험업 문서관리 프레임워크 구축 제안서" PPT 슬라이드 구성을 작성해주세요.
총 10개 챕터로 구성하며, 각 챕터별로 슬라이드 제목 + 본문 내용 + 핵심 시각자료(도표/다이어그램) 설명을 포함하세요.

대상 독자: 경영진 및 GA 보험영업 관리자 (비기술자 포함)
톤: 현업 문제를 공감하고, 기술적 해법을 쉽게 설명
형식: 각 챕터 3~5장 슬라이드, 총 30~40장

챕터 구성:
1. 현재 상황 — GA 보험업의 문서 관리 실태
2. 문제점 — 왜 지금 방식이 한계인가
3. 해결 방법론 — 우리의 접근 방식
4. 이론적 배경 — 지식관리 원칙과 온톨로지
5. 프레임워크 구상 — 시스템 설계 전체 그림
6. 시스템 구성도 — 기술 아키텍처
7. 작업자 업무 사이클 — 실제 사용 시나리오
8. 도입 효과 — 보장 항목 + RAG/LLM 활용 시나리오 (실시간 DB+AI 조합)
9. 향후 로드맵 — Phase 2 → Phase 3 확장 계획
10. 현실적 과제 — 기술 한계와 핵심 난제 (**가장 중요, 5~7장 분량**)

특히 8장 후반부에서는 반드시 포함:
- 이 체계가 있어야 RAG(검색증강생성)가 가능한 이유
- 실시간 DB 데이터 + LLM 조합으로 챗봇이 정확한 답변을 생성하는 구체적 흐름
- 체계 없는 RAG vs 체계 있는 RAG 비교

10장(현실적 과제)은 **가장 비중 있게** 다루며 아래를 모두 포함:
- 문서 파싱 난제: 보험사 문서 80%가 이미지, OCR+테이블 인식+한글 NLP 필요
- 업무 전환 저항: 카톡→시스템 전환 시 현장 저항
- 데이터 마이그레이션: 기존 NAS/PC/카톡 산재 문서의 이전 문제
- 과도기 한계: Phase 2만으로는 본문 검색 불가, 가치 체감 지연
- 1인 개발 유지보수 리스크: 담당자 부재 시 시스템 중단 위험
- 보안/규제: 보험 문서 외부 전송 문제, 금융규제 대응
- 결론: "완벽한 시스템을 한 번에 만들지 않는다" — 단계적 접근의 필연성
```

---

## 소스 문서 본문

---

# 1. 현재 상황: GA 보험업의 문서 관리 실태

## 1.1 GA(법인보험대리점)의 업무 특성

GA는 여러 보험사의 상품을 비교 판매하는 법인대리점이다. 하나의 GA가 취급하는 보험사만 20~30개, 상품은 수백 종에 달한다. 이 과정에서 엄청난 양의 문서가 발생한다.

**일상적으로 다루는 문서 종류:**
- 상품설명서 (보험사별 × 상품별)
- 수수료표 / 시책표 (월별 변경)
- 약관 (수시 개정)
- 계약 관련 서류 (청약서, 약관동의서)
- 교육 자료 (보험사별 상품 교육)
- 공문 / 안내문 (수시 발송)

**문서 수량 규모 (중형 GA 기준):**
- 보험사 20개 × 상품 평균 15종 × 문서유형 6종 = **약 1,800종의 현행 문서**
- 월 평균 신규/변경 문서: 200~500건
- 연간 누적: 3,000~6,000건

## 1.2 현재 문서 관리 방식

| 방식 | 현실 | 문제 |
|------|------|------|
| 카카오톡 단톡방 | 보험사 담당자가 PDF/이미지로 전달 | 흘러가면 찾을 수 없음 |
| 공유폴더 (NAS/클라우드) | 담당자가 수동으로 분류 | 폴더 구조 제각각, 중복 파일 |
| 이메일 | 보험사 공문 수신 | 검색 어려움, 첨부파일 산재 |
| 엑셀 관리대장 | 문서 목록을 수기로 관리 | 실제 파일과 동기화 안 됨 |
| 개인 PC | 각자 다운받아 보관 | 버전 불일치, 퇴사 시 유실 |

## 1.3 특히 심각한 문서 형태 문제

보험사에서 GA로 전달되는 문서의 실체:
- **시책표**: 대부분 PPT 또는 이미지 캡처 (표 형태이지만 텍스트가 아닌 이미지)
- **수수료표**: 엑셀 → PDF 변환 또는 캡처 이미지
- **상품비교표**: PPT 슬라이드를 이미지로 캡처해서 카톡으로 전송
- **약관 요약**: PDF이지만 스캔본 (OCR 필요)

> **핵심**: 구조화된 데이터가 아닌, "이미지 속에 갇힌 데이터"가 대부분

---

# 2. 문제점: 왜 지금 방식이 한계인가

## 2.1 업무 현장의 실제 문제

### (1) "이 상품 수수료 얼마였지?" — 검색 불가
- 설계사가 고객 상담 중 수수료를 확인하려면 카톡방을 스크롤
- 어제 온 시책인지, 지난주 것인지 확인 불가
- 결국 보험사 담당자에게 다시 전화 → 시간 낭비

### (2) "이거 최신 약관 맞아?" — 버전 관리 부재
- 같은 상품의 약관이 3개 버전이 NAS에 존재
- 어느 것이 현행인지 판단 불가
- 잘못된 약관으로 설명 → 민원/분쟁 발생 위험

### (3) "그 문서 어디 갔어?" — 문서 유실
- 담당자 퇴사 → PC에만 있던 문서 소실
- 공유폴더 정리 중 실수로 삭제
- 카카오톡 대화방 퇴장 → 파일 접근 불가

### (4) "이건 대외비인데?" — 보안 등급 미관리
- 수수료표, 시책표는 대외비 문서
- 설계사 전체에게 무분별하게 공유
- 퇴사한 설계사도 파일 보유 → 정보 유출

### (5) "만료된 시책인데 아직 쓰고 있네" — 유효기간 미관리
- 시책 유효기간이 지났는데 설계사가 인지하지 못함
- 만료된 조건으로 고객에게 안내 → 보험사와 마찰

## 2.2 경영진 관점의 문제

| 문제 | 영향 | 비용 |
|------|------|------|
| 문서 검색 시간 | 설계사 1인당 일 30분 낭비 | 인건비 손실 |
| 버전 혼동 | 민원 발생 → 과태료 가능 | 건당 수백만원 |
| 문서 유실 | 재작업, 보험사 재요청 | 관리 신뢰도 하락 |
| 보안 미관리 | 정보 유출 시 책임 | 법적 리스크 |
| 유효기간 미관리 | 잘못된 조건 안내 | 영업 손실 |

## 2.3 근본 원인: "체계"의 부재

```
현재: 사람이 기억과 습관으로 관리
      ↓
문서가 어디 있는지 → 사람 머릿속
문서가 최신인지 → 날짜를 눈으로 확인
문서 간 관계 → 연결 정보 없음
문서 유효기간 → 아무도 추적하지 않음
보안 등급 → 구분 자체를 안 함
```

---

# 3. 해결 방법론: 우리의 접근 방식

## 3.1 핵심 철학

> **"할 수 있는 것에 집중하고, 할 수 없는 것은 맡긴다"**

| 구분 | 직접 구현 | 외주 위임 |
|------|----------|----------|
| 문서 분류 체계 | O | |
| 문서 관계 관리 | O | |
| 라이프사이클 추적 | O | |
| 보안 등급 관리 | O | |
| 문서 뷰어 (PDF/MD/CSV) | O | |
| PDF 텍스트 추출 | | O |
| 한글 자연어 처리 | | O |
| 벡터 DB / 유사도 검색 | | O |
| AI 챗봇 (RAG) | | O |

## 3.2 왜 이 전략인가

**깨달음 1: 진짜 자산은 "체계"**
- 문서가 어디에 있고, 무엇이고, 어떻게 연결되는지
- 이것이 데이터 주권의 핵심
- 처리 기술(파싱, AI)은 언제든 교체 가능하지만, 체계는 직접 소유해야 함

**깨달음 2: 데이터 엔지니어링은 현재 역량 밖**
- PDF 파싱, 한글 NLP, 벡터 DB는 Python + 전문 인력 필수
- 현 IT 인력으로는 운영 불가
- 이 영역은 외주에 위임하되, API로 연결 가능하게 설계

**깨달음 3: 확장 가능한 구조**
- 지금은 체계만 구축하고
- 나중에 조건이 갖춰지면 AI/파싱 엔진을 추가
- 외주 RAG를 내재화로 전환 가능

## 3.3 정론(이상) vs 현실 비교

| 항목 | 정론 (올인원) | 우리의 선택 |
|------|-------------|------------|
| 개발 비용 | 14억원 | 0~3천만원 |
| 개발 기간 | 12개월 | 3개월 |
| 필요 인력 | 3.5명 (전문가) | 1명 |
| 범위 | 전체 (RAG 포함) | 체계 관리 집중 |
| 성공 확률 | 60% | 70% |
| Python 필요 | 필수 | 불필요 (Phase 2) |

---

# 4. 이론적 배경

## 4.1 지식관리(Knowledge Management) 원칙

문서는 단순한 파일이 아니라 **조직의 지식 자산**이다.

**SECI 모델 (Nonaka & Takeuchi, 1995):**
- Socialization: 설계사 간 경험 공유 → 카톡방에서 이미 일어남
- Externalization: 암묵지를 문서화 → **현재 가장 취약한 부분**
- Combination: 문서화된 지식의 체계적 결합 → **이 프레임워크가 해결**
- Internalization: 체계화된 지식의 학습 → 문서 뷰어, 검색으로 지원

## 4.2 온톨로지(Ontology) 기반 분류

**온톨로지란**: 특정 도메인의 개념과 관계를 형식적으로 정의한 체계

우리 도메인의 온톨로지:
```
GA 보험영업 (루트)
├── SALES (영업지원)    — 보험사 × 상품 × 문서유형
├── COMM (수수료)       — 보험사 × 상품 × 문서유형
├── CONTRACT (계약)     — 보험사 × 상품 × 문서유형
├── COMP (보상)         — 보험사 × 문서유형
└── EDU (교육)          — 문서유형
```

각 도메인은 **Facet(분류축)**의 조합으로 문서를 분류한다:
- **보험사** (carrier): 삼성화재, KB손해, 한화생명, ...
- **상품** (product): 종신보험, 실손보험, 어린이보험, ...
- **문서유형** (docType): 상품설명서, 약관, 수수료표, 시책표, ...

## 4.3 SSOT (Single Source of Truth)

> "같은 분류 경로에는 유효한 문서가 단 하나만 존재한다"

예시:
```
SALES / 삼성화재 / 종신보험 / 상품설명서 → ACTIVE 문서 1개만
```
- 새 버전이 올라오면 기존 문서는 자동으로 만료(DEPRECATED)
- 혼란의 근원인 "어느 게 최신이지?"를 시스템이 보장

## 4.4 문서 라이프사이클

```
DRAFT (임시저장) → ACTIVE (사용중) → DEPRECATED (만료)
```

| 상태 | 의미 | 전환 조건 |
|------|------|----------|
| 임시저장 | 아직 검토 전 | 작성자가 등록 |
| 사용중 | 현행 유효 문서 | 검토 완료 후 활성화 |
| 만료 | 더 이상 유효하지 않음 | 새 버전 등록 또는 유효기간 경과 |

## 4.5 문서 신선도(Freshness) 관리

문서에는 **유효기간**이 있다. 시책표는 1개월, 약관은 1년 등.

| 갱신상태 | 기준 | 의미 |
|---------|------|------|
| 정상 (FRESH) | 유효기간 30일 이상 남음 | 안심하고 사용 |
| 갱신필요 (WARNING) | 유효기간 30일 이내 | 곧 만료, 갱신 준비 |
| 만료됨 (EXPIRED) | 유효기간 경과 | 즉시 갱신 필요 |

## 4.6 문서 관계(Relation) 체계

문서는 독립적이지 않다. 서로 연결되어 있다.

| 관계 유형 | 설명 | 예시 |
|----------|------|------|
| 상위-하위 | 부모 문서와 자식 문서 | 약관 → 약관 요약본 |
| 형제 | 같은 레벨의 관련 문서 | 종신보험 설명서 ↔ 종신보험 약관 |
| 참조 | 다른 도메인 문서를 참조 | 수수료표 → 관련 시책표 |
| 대체 | 이전 버전을 대체 | 2026년 약관 → 2025년 약관 |

---

# 5. 프레임워크 구상

## 5.1 시스템 vs 도메인 분리

```
SYSTEM FRAMEWORK (불변 — 어떤 도메인이든 동일)
├── 채번 (고유 ID — UUID)
├── 라이프사이클 (임시저장 → 사용중 → 만료)
├── 신선도 (정상 / 갱신필요 / 만료됨)
├── 관계 (상위-하위, 참조, 대체)
├── SSOT (중복 방지 — 같은 분류에 활성 문서 1개)
├── 버전 관리 (Major.Minor)
├── 보안 등급 (공개 / 사내용 / 대외비 / 기밀)
└── 변경 이력 (누가, 언제, 무엇을 변경)

DOMAIN (가변 — 업무 도메인에 따라 확장)
└── GA 보험영업
    ├── SALES (영업지원): 보험사 × 상품 × 문서유형
    ├── COMM (수수료): 보험사 × 상품 × 문서유형
    ├── CONTRACT (계약): 보험사 × 상품 × 문서유형
    ├── COMP (보상): 보험사 × 문서유형
    └── EDU (교육): 문서유형
```

## 5.2 권한 체계

**문서 보안 등급:**
| 등급 | 대상 문서 | 접근 가능자 |
|------|----------|------------|
| 공개 | 일반 안내문 | 모든 사용자 |
| 사내용 | 상품설명서, 교육자료 | 직원 이상 |
| 대외비 | 수수료표, 시책표 | 팀장 이상 |
| 기밀 | 내부 전략 문서 | 임원 이상 |

**사용자 역할:**
| 역할 | 대상 | 권한 |
|------|------|------|
| 외부업체 | RAG 구축 외주 등 | 공개 문서만 |
| 직원 | 일반 사원 | 공개 + 사내용 |
| 팀장 | 팀 관리자 | + 대외비 |
| 임원 | 경영진 | + 기밀 |
| 관리자 | IT/시스템 관리 | 전체 접근 |

## 5.3 데이터 무결성 보장 (DB 트리거)

| 규칙 | 구현 방식 | 효과 |
|------|----------|------|
| SSOT | DB 트리거 | 같은 분류 경로에 활성 문서 1개만 |
| 순환 참조 방지 | DB 트리거 | A→B→C→A 같은 무한 루프 방지 |
| 분류 해시 | DB 트리거 | 분류 변경 시 자동으로 해시 재계산 |
| 낙관적 잠금 | row_version | 동시 수정 충돌 방지 |

---

# 6. 시스템 구성도

## 6.1 전체 아키텍처

```
┌─────────────────────────────────────────────────────────────┐
│                     Vue 3 프론트엔드                          │
│                                                             │
│  [대시보드]     [워크스페이스]    [검색]     [관리자]         │
│  • 전체 현황    • 도메인별 탐색   • 통합검색  • 도메인 관리    │
│  • 조치 필요    • 문서 업로드     • 필터     • 사용자 관리    │
│  • 최근 활동    • 뷰어 (PDF/MD)   •          • Facet 관리    │
│                 • 관계 설정       •          •               │
└──────────────────────┬──────────────────────────────────────┘
                       │ REST API (JWT 인증)
┌──────────────────────▼──────────────────────────────────────┐
│                   NestJS 백엔드 API                           │
│                                                             │
│  [문서 관리]        [분류/관계]        [외부 API]             │
│  • CRUD            • 도메인 트리      • REST + API Key      │
│  • 업로드/프리뷰    • Facet 관리       • 문서 조회/다운로드   │
│  • 라이프사이클     • 관계 CRUD        • 인증/권한           │
│  • 유효기간 추적    • 순환 방지        •                     │
│  • 신선도 계산      • SSOT 검증        •                     │
└──────────────────────┬──────────────────────────────────────┘
                       │
┌──────────────────────▼──────────────────────────────────────┐
│                    PostgreSQL 16                              │
│                                                             │
│  [documents]      [classifications]  [relations]             │
│  • 메타데이터      • EAV 패턴 분류    • 문서 간 관계          │
│  • 라이프사이클    • Facet 기반       • 순환 방지 트리거       │
│  • 보안등급        •                 •                       │
│  [domain_master]  [facet_master]    [document_history]       │
│  • 도메인 트리     • 분류 마스터      • 변경 이력             │
│  • SSOT 규칙       • 갱신주기 설정    • 감사 추적             │
└──────────────────────┬──────────────────────────────────────┘
                       │ REST API 제공
              ┌────────┴────────┐
              ▼                 ▼
        [외주 RAG 업체]    [미래 확장]
        • PDF 파싱         • Python 엔진
        • AI 챗봇          • 벡터 DB
        • 유사도 검색       • 자동 분류
```

## 6.2 기술 스택

| 영역 | 기술 | 선정 이유 |
|------|------|----------|
| 프론트엔드 | Vue 3 + Element Plus | 빠른 개발, 한글 UI 컴포넌트 |
| 백엔드 | NestJS (TypeScript) | 풀스택 타입 공유, 모듈형 구조 |
| DB | PostgreSQL 16 | 무료, JSONB 지원, 트리거 가능 |
| ORM | Prisma | 타입 안전, 마이그레이션 관리 |
| 인증 | JWT + API Key | 내부(웹) + 외부(API) 이중 인증 |
| 뷰어 | pdf.js, marked.js | 브라우저 내 문서 미리보기 |
| 배포 | Docker (백엔드) + Vercel (프론트) | 운영 간소화 |

## 6.3 데이터베이스 테이블 구조

| 테이블 | 설명 | 주요 필드 |
|--------|------|----------|
| users | 사용자 | email, name, role, isActive |
| domain_master | 도메인 정의 | code, displayName, parentCode, requiredFacets, ssotKey |
| facet_master | 분류 마스터 | facetType, code, displayName, tier, maxAgeDays |
| documents | 문서 메타데이터 | domain, lifecycle, securityLevel, validUntil, fileName |
| classifications | 문서별 분류 (EAV) | documentId, facetType, facetValue |
| relations | 문서 간 관계 | sourceId, targetId, relationType |
| document_history | 변경 이력 | documentId, action, changes, userId |
| api_keys | 외부 API 키 | keyHash, name, role, expiresAt |

---

# 7. 작업자 업무 사이클

## 7.1 일반 직원(사원~대리)의 일과

```
[문서 수신]
    카톡/이메일로 보험사에서 새 시책표 도착
         ↓
[시스템 접속]
    KMS 웹 → 자기 담당 도메인(SALES) 진입
         ↓
[문서 등록]
    "문서 추가" → 파일 업로드(PDF)
    → 보험사: 삼성화재 (드롭다운)
    → 상품: 종신보험 (드롭다운)
    → 문서유형: 시책표 (드롭다운)
    → 보안등급: 대외비 (기본값)
    → 유효기간: 2026-03-31 (날짜 선택)
         ↓
[문서 연결]
    비교 화면에서 이전 시책표와 나란히 확인
    → 관계유형 "대체" 선택 → 저장
    → 이전 시책표는 자동으로 "만료" 상태로 전환 (SSOT)
         ↓
[일상 업무]
    고객 상담 시 워크스페이스에서 문서 검색/조회
    → PDF 뷰어로 내용 바로 확인
         ↓
[유효기간 알림 확인]
    대시보드에서 "조치 필요" 탭 확인
    → 갱신 필요 문서 목록 → 보험사에 최신본 요청
         ↓
[문서 갱신]
    새 문서 업로드 → 이전 문서와 "대체" 관계 설정
    → 사이클 반복
```

## 7.2 팀장급의 업무

```
[대시보드 확인]
    도메인별 문서 현황 (전체/사용중/임시저장/만료/경고)
         ↓
[조치 필요 문서 관리]
    • 만료 문서 → 담당자에게 갱신 지시
    • 갱신 필요 → 보험사에 최신본 요청
    • 파일 없음 → 메타데이터만 있는 문서에 파일 첨부 지시
         ↓
[보안 등급 검토]
    대외비 문서가 적절히 분류되어 있는지 확인
         ↓
[활동 로그 모니터링]
    최근 활동 탭에서 누가 무엇을 했는지 추적
```

## 7.3 관리자의 업무

```
[도메인/분류 관리]
    새 보험사 추가 → facet_master에 등록
    새 상품 출시 → product facet에 추가
    새 도메인 필요 → domain_master에 추가
         ↓
[사용자 관리]
    신규 직원 → 계정 생성, 역할 부여
    퇴사 직원 → 계정 비활성화
    역할 변경 → 드롭다운으로 즉시 변경
         ↓
[외부 API 관리]
    외주 RAG 업체에 API Key 발급
    접근 범위(역할) 설정
```

---

# 8. 도입 효과: 프레임워크로 보장되는 항목

## 8.1 SSOT (단일 진실 공급원)

| Before | After |
|--------|-------|
| 같은 문서가 NAS에 3개 존재, 어느 게 최신? | **시스템이 보장**: 같은 분류에 활성 문서 1개만 |
| 사람이 판단 → 실수 가능 | **DB 트리거가 강제**: 위반 시 저장 자체 불가 |

## 8.2 유효기간 자동 추적

| Before | After |
|--------|-------|
| 만료된 시책을 모르고 사용 | **대시보드에 경고 표시**: 만료 임박 문서 자동 집계 |
| 유효기간을 사람이 기억 | **시스템이 계산**: 갱신주기 기반 자동 상태 변경 |

## 8.3 보안 등급 관리

| Before | After |
|--------|-------|
| 수수료표를 전체 설계사에게 공유 | **역할 기반 접근 제어**: 대외비는 팀장 이상만 |
| 퇴사자도 파일 보유 | **계정 비활성화**: 즉시 접근 차단 |

## 8.4 변경 이력(감사 추적)

| Before | After |
|--------|-------|
| 누가 문서를 수정/삭제했는지 모름 | **전체 이력 기록**: 누가, 언제, 무엇을 |
| 문제 발생 시 책임 소재 불명 | **타임라인 뷰**: 문서 상세에서 이력 확인 |

## 8.5 문서 관계 네트워크

| Before | After |
|--------|-------|
| 관련 문서를 일일이 찾아야 함 | **관계 자동 연결**: 상위-하위, 참조, 대체 |
| 약관이 바뀌면 관련 설명서를 수동으로 찾음 | **연결 그래프**: 관련 문서를 한눈에 탐색 |

## 8.6 외부 시스템 연동 기반

| Before | After |
|--------|-------|
| 외주업체에 파일을 수동 전달 | **REST API 제공**: API Key로 문서 자동 조회 |
| 챗봇 구축 시 데이터 수집 처음부터 | **체계화된 데이터**: 즉시 연동 가능 |

## 8.7 RAG(검색증강생성) 구축 기반 확보

### 체계가 있어야 RAG가 가능하다

RAG(Retrieval-Augmented Generation)는 사용자 질문에 대해 관련 문서를 검색하고, 그 문서를 LLM에게 전달하여 정확한 답변을 생성하는 기술이다.

**RAG의 전제조건 — 이 프레임워크가 모두 제공:**
| 전제조건 | 없으면 | 프레임워크가 제공 |
|----------|--------|-----------------|
| 문서가 어디 있는지 | 검색 대상 자체가 없음 | 원본 파일 + 저장 경로 관리 |
| 문서의 분류 정보 | "삼성화재 시책" 검색 불가 | 보험사×상품×문서유형 메타데이터 |
| 문서의 유효 여부 | 만료된 문서도 답변에 포함 | 라이프사이클(ACTIVE만 검색) |
| 문서 간 관계 | 관련 문서 추천 불가 | 상위-하위, 참조, 대체 관계 |
| 보안 등급 | 대외비가 외부에 노출 | 역할 기반 접근 제어 |
| 접근 API | 매번 수동 데이터 전달 | REST API + API Key |

### 실시간 DB + LLM 조합 응답 시나리오

```
설계사: "삼성화재 종신보험 이번 달 수수료 얼마야?"
    │
    ▼
[RAG 시스템]
    │
    ├── 1. 질문 분석 (LLM)
    │   → 키워드 추출: 삼성화재, 종신보험, 수수료, 이번 달
    │
    ├── 2. KMS API 호출 (실시간 DB 조회)
    │   → GET /api/documents?domain=COMM
    │     &classifications=carrier:삼성화재,product:종신보험
    │     &lifecycle=ACTIVE
    │   → 결과: 2026년 2월 수수료표.pdf (유효기간 내, 보안등급 확인)
    │
    ├── 3. 문서 내용 추출
    │   → PDF 텍스트 or 이미지 원본
    │   → 관련 문서도 함께 (관계 API로 시책표 연결)
    │
    ├── 4. LLM 응답 생성
    │   → "삼성화재 종신보험 2월 수수료율은 초회 150%, 유지 130%입니다."
    │   → 근거: [수수료표.pdf 3페이지] [시책표.pdf 1페이지]
    │
    └── 5. 출처 + 원본 제공
        → 답변과 함께 PDF 원본 링크 제공
        → 설계사가 직접 확인 가능
```

### 체계 없이 RAG를 구축하면?

```
[체계 없는 RAG]
설계사: "삼성화재 종신보험 수수료?"
    ↓
RAG: NAS 폴더 전체를 벡터 검색
    ↓
결과: 2024년 수수료표, 2025년 수수료표, 2026년 수수료표 모두 반환
    ↓
LLM: 어느 게 최신인지 판단 불가 → 잘못된 답변 위험
    ↓
→ 만료된 조건으로 고객에게 안내 → 사고 발생

[체계 있는 RAG — 우리 프레임워크]
설계사: "삼성화재 종신보험 수수료?"
    ↓
RAG: KMS API로 ACTIVE 문서만 조회
    ↓
결과: 2026년 2월 수수료표 (유효기간 확인 완료) 단 1건
    ↓
LLM: 정확한 최신 데이터로 답변 생성
    ↓
→ 신뢰할 수 있는 답변 + 근거 문서 제공
```

> **핵심**: RAG의 품질은 "AI 모델 성능"이 아니라 **"검색 대상 데이터의 품질"**이 결정한다.
> 체계화된 메타데이터(분류, 유효기간, 관계, 보안등급)가 있어야 정확한 검색이 가능하고,
> 정확한 검색이 있어야 LLM이 올바른 답변을 생성한다.

---

# 9. 향후 로드맵

## 9.1 전체 로드맵

```
Phase 1 (완료) ──→ Phase 2 (현재) ──→ Phase 3 (선택적 확장)
분류체계 검증       체계 관리 시스템      데이터 처리 엔진
```

| 단계 | 목표 | 기간 | 비용 | 기술 |
|------|------|------|------|------|
| Phase 1 | 분류체계 타당성 검증 | 완료 | 0원 | Python + JSON + HTML |
| Phase 2 | 문서 체계 관리 시스템 | 3개월 | 0~3천만원 | TypeScript (NestJS + Vue 3) |
| Phase 3 | AI/파싱 엔진 추가 | 6~12개월 | 5천만원+ | Python 추가 |

## 9.2 Phase 1 성과 (검증 완료)

- 6개 GA 도메인 구조 정의 및 검증
- 온톨로지 구조 검증 6/6 통과
- 지식 그래프 840노드 / 2,439엣지 생성
- Admin UI 프로토타입 동작 확인

## 9.3 Phase 2 현재 구현 상태

**구현 완료:**
- 파일 업로드 (PDF, Markdown, CSV)
- 도메인 CRUD (무제한 깊이 트리 구조)
- Facet CRUD (보험사/상품/문서유형 관리)
- 문서 목록/검색/필터 + 도메인 워크스페이스
- 문서 상세 뷰어 (PDF, Markdown, CSV 미리보기)
- 관계 추가/삭제 + 문서 비교 화면
- 문서 분류/보안등급/유효기간 수정
- 라이프사이클 전환 (임시저장 → 사용중 → 만료)
- 대시보드 (통계 + 도메인 현황 + 조치 필요 문서 + 최근 활동)
- 사용자 관리 (JWT 인증, 역할 기반 접근 제어, 사용자 목록)
- 외부 API (REST + API Key 인증)

## 9.4 Phase 3 진입 조건 및 확장 내용

**진입 조건 (모두 충족 시):**
- Phase 2 안정적 운영 (6개월 이상)
- 추가 예산 확보 (5,000만원 이상)
- Python 전문 인력 확보 (채용 또는 외주)

**확장 내용:**
- Python Core Engine 추가 (Docker 컨테이너)
- PDF 텍스트 추출 내재화 (pdfplumber)
- 한글 NLP 적용 (Kiwi)
- 벡터 DB 연동 (pgvector)
- 자동 분류 고도화 (ML 모델)
- RAG 내재화 (외주 종료)

**조건 미충족 시:** Phase 2 + 외주 RAG로 계속 운영 (충분히 가능)

---

# 10. 현실적 과제: 기술 한계와 핵심 난제

## 10.1 가장 큰 난제: 문서 파싱

### 보험업 문서의 현실

보험사에서 GA로 전달되는 문서의 80% 이상이 **이미지 기반**이다.

| 문서 종류 | 실제 형태 | 문제 |
|----------|----------|------|
| 시책표 | PPT 슬라이드를 캡처한 이미지 | 텍스트 추출 불가 |
| 수수료표 | 엑셀→PDF 변환 또는 캡처 | 표 구조 인식 필요 |
| 상품비교표 | PPT를 이미지로 카톡 전송 | 원본 데이터 없음 |
| 약관 요약 | 스캔 PDF (이미지 PDF) | OCR 필수 |
| 공문 | 도장 찍힌 스캔본 | 혼합 (텍스트+이미지) |

### 이미지 파싱의 기술적 난이도

```
[이미지 속 시책표]
┌────────────────────────────┐
│ 삼성화재 2월 시책 안내      │  ← 제목 (텍스트 인식 필요)
│                            │
│ ┌──┬──────┬───────┬─────┐ │
│ │  │ 종신 │ 실손  │ CI  │ │  ← 표 구조 인식 필요
│ ├──┼──────┼───────┼─────┤ │
│ │초│ 150% │ 120%  │180% │ │  ← 셀 내 숫자 인식 필요
│ │유│ 130% │ 100%  │150% │ │
│ └──┴──────┴───────┴─────┘ │
│                            │
│ ※ 2026.02.01~02.28 한정    │  ← 유효기간 인식 필요
└────────────────────────────┘

필요한 기술:
1. OCR (광학 문자 인식) — 이미지에서 텍스트 추출
2. Table Detection — 표 영역 감지
3. Table Structure Recognition — 행/열 구조 파악
4. Cell Content Extraction — 각 셀의 값 추출
5. Korean NLP — 한글 문맥 이해
6. Data Structuring — 추출된 데이터를 JSON/DB로 변환
```

### 현재 기술 수준과 한계

| 기술 | 정확도 | 한계 |
|------|--------|------|
| OCR (Tesseract) | 한글 85~90% | 손글씨, 특수 폰트 인식 불가 |
| OCR (Google Vision) | 한글 95% | 클라우드 의존, 보안 문서 외부 전송 |
| Table Detection | 80~90% | 복잡한 병합 셀, 비정형 표 인식 실패 |
| PDF 텍스트 추출 | 98% (텍스트 PDF) | 이미지 PDF는 0% (OCR 필요) |
| 이미지 내 표 파싱 | 70~80% | **가장 어려운 부분** — 실무 적용 수준 미달 |

### 두 가지 접근 경로

**경로 A: 이미지에서 데이터 추출**
```
이미지 → OCR → 텍스트 → 표 인식 → 구조화 데이터 → DB 저장
         ↑
    정확도 70~80%
    오류 수정 인력 필요
    실시간 처리 불가 (배치)
```
- 장점: 데이터 활용도 극대화 (검색, 비교, 분석 가능)
- 단점: **정확도 한계**, 오류 수정 비용, 고도화된 파싱 파이프라인 필요

**경로 B: 이미지 원본 보관 + 챗봇 연동**
```
이미지 → 원본 저장 → 메타데이터만 수동 입력
                    → 챗봇이 질의 시 이미지 원본을 함께 반환
```
- 장점: 파싱 불필요, 원본 보존
- 단점: **이미지 내용 검색 불가**, 멀티모달 AI 필요 (GPT-4V 등)

### 핵심 메시지

> **이미지 기반 문서의 데이터화는 현재 기술의 최전선이다.**
>
> - 완벽한 자동화는 아직 불가능
> - 단, AI 기술(OCR, 멀티모달 LLM)이 빠르게 발전 중
> - 우리의 전략: **지금은 체계(메타데이터)를 구축하고, 파싱 기술이 성숙하면 적용**
> - 체계가 없으면 파싱 기술이 아무리 좋아도 **데이터를 넣을 그릇이 없다**

## 10.2 기술 스택 인력 문제

| 영역 | 현재 역량 | 필요 역량 | 갭 |
|------|----------|----------|-----|
| TypeScript/Node.js | 구현 가능 | 구현 가능 | 없음 |
| Vue 3 | 구현 가능 | 구현 가능 | 없음 |
| PostgreSQL | 운영 가능 | 운영 가능 | 없음 |
| **Python** | **운영 불가** | PDF 파싱, NLP에 필수 | **큰 갭** |
| **ML/AI** | **경험 없음** | 자동 분류, 임베딩에 필수 | **큰 갭** |
| **데이터 엔지니어링** | **없음** | 파이프라인, ETL에 필수 | **큰 갭** |

### 인력 확보 옵션

| 옵션 | 비용 | 리스크 |
|------|------|--------|
| Python 개발자 채용 | 연 7~9천만원 | 채용 불확실, 소수 인력 리스크 |
| 외주 개발 | 프로젝트당 3~5천만원 | 기술 종속, 유지보수 |
| 클라우드 AI API | 월 100~500만원 | 보안(문서 외부 전송), 비용 누적 |
| **현재 전략: 체계 선구축** | **0원** | **가장 낮음** |

## 10.3 문서 파싱이 핵심인 이유

```
GA의 최종 목표:

"설계사가 고객 상담 중에 '삼성화재 종신보험 이번 달 수수료 얼마야?'
 라고 물으면, 챗봇이 즉시 정확한 답변과 근거 문서를 보여준다"

이것을 위해서는:
1. 시책표 이미지에서 수수료 숫자를 추출해야 한다 (파싱)
2. 또는 시책표 이미지를 통째로 AI가 읽어야 한다 (멀티모달)
3. 어느 쪽이든, 현재 기술로는 100% 정확도가 불가능
4. 따라서 사람의 검수가 필요 → 반자동화가 현실적

우리 프레임워크의 역할:
→ 파싱이 되든 안 되든, "그릇"을 먼저 만든다
→ 수동 입력이든 자동 추출이든, 데이터가 들어갈 체계를 확보한다
→ 파싱 기술이 성숙하면, API를 통해 자동으로 데이터를 채운다
```

## 10.4 업무 전환의 현실적 장벽

### (1) 카톡 → 시스템 전환 저항

```
현재 업무 흐름:
    보험사 담당자 → 카톡으로 시책표 전송 → 설계사가 바로 확인

시스템 도입 후:
    보험사 담당자 → 카톡으로 시책표 전송 → 담당자가 KMS에 업로드 → 설계사가 시스템에서 확인
                                               ↑
                                          이 단계가 추가됨
```

- 카톡은 "받자마자 바로 본다" — 시스템은 "누군가 올려야 본다"
- 업로드 담당자의 업무 부담 증가
- 초기에는 "카톡이 더 빠른데 왜 시스템을 써야 해?" 라는 저항 불가피
- **대응**: 유효기간 알림, 버전 관리, 보안 통제 등 "카톡으로는 불가능한 가치"를 체감시켜야 함

### (2) 데이터 마이그레이션

```
현재 산재된 문서:
    NAS 공유폴더: 수천 개 파일 (폴더 구조 제각각)
    개인 PC: 담당자별 수백 개
    카톡 대화방: 수년치 파일 (다운로드 불가한 것도 다수)
    이메일 첨부: 정리 불가

→ 이것들을 새 시스템에 넣으려면?
    1. 전수 조사 자체가 불가능 (양이 너무 많음)
    2. 분류 정보가 없음 (파일명만으로 보험사/상품 추정?)
    3. 유효 여부 판단 불가 (이게 최신인지 아닌지?)
    4. 결국 "앞으로 새로 들어오는 것부터" 적용이 현실적
```

- **리스크**: 과거 데이터 없이 시작하면 초기 활용도가 낮음
- **대응**: 핵심 현행 문서(ACTIVE)만 우선 등록, 나머지는 점진적 마이그레이션

### (3) 과도기 문제 — 체계만으로는 "검색"이 안 된다

```
Phase 2 (현재):
    ✅ 메타데이터 기반 분류/필터/관계 → 가능
    ❌ 문서 본문 내용 검색 → 불가능
    ❌ "수수료율이 150%인 상품 찾아줘" → 불가능
    ❌ 자연어 질의 → 불가능

Phase 3 (미래):
    ✅ 본문 검색 (텍스트 PDF)
    ✅ RAG 기반 자연어 질의
    △ 이미지 PDF 내용 검색 (기술 한계)
```

- Phase 2만으로는 **"똑똑한 파일 서버"** 수준
- 진정한 가치(AI 검색, 챗봇)는 Phase 3에서 발현
- **과도기 동안 사용자가 가치를 체감하지 못할 위험**
- **대응**: Phase 2의 핵심 가치(SSOT, 유효기간, 보안, 이력)를 명확히 전달

### (4) 유지보수 및 운영 부담

| 항목 | 부담 | 설명 |
|------|------|------|
| 서버 운영 | 중 | Docker 기반이지만 장애 대응 필요 |
| DB 백업 | 중 | PostgreSQL 정기 백업 + 복구 테스트 |
| 보안 업데이트 | 중 | 의존성 패키지 업데이트 주기적 필요 |
| 분류 체계 관리 | 저 | 새 보험사/상품 추가는 관리자 UI로 가능 |
| 사용자 관리 | 저 | 입퇴사 시 계정 관리 |
| **코드 유지보수** | **고** | **현재 1인 개발 → 담당자 부재 시 유지보수 불가** |

> **가장 큰 운영 리스크**: 시스템을 만든 사람이 유지보수 할 수 없게 되면 시스템 전체가 멈출 수 있다.
> 이를 대비해 문서화, 표준 기술 스택(TypeScript), Docker 컨테이너화로 인수인계 용이성을 확보한다.

## 10.5 보안과 규제 리스크

| 리스크 | 설명 | 대응 |
|--------|------|------|
| 보험 문서 외부 전송 | 클라우드 AI API 사용 시 보안 문서가 외부로 전송됨 | 온프레미스 또는 국내 클라우드 필수 |
| 개인정보 포함 문서 | 청약서 등에 개인정보 포함 가능 | 보안등급 관리 + 접근 제어로 대응 |
| 금융규제 | 금융감독원 IT 보안 기준 | 향후 규제 대응 설계 필요 |
| 데이터 주권 | 외주 RAG 업체에 데이터 종속 | **체계는 직접 소유**, 처리만 위탁 |

## 10.6 우리의 대응 전략 — 단계적 접근

```
단기 (현재):
    ✅ 문서 체계 구축 (메타데이터, 분류, 관계)
    ✅ 원본 파일 안전 보관 (온프레미스)
    ✅ 외부 API 제공 (외주 연동 가능)
    ✅ 수동 분류 + 유효기간 관리
    ✅ 보안 등급 + 역할 기반 접근 제어

중기 (6개월 후):
    ⬜ 외주 RAG 업체 연동 (API 기반)
    ⬜ 텍스트 PDF 대상 본문 검색 추가
    ⬜ 파일명 기반 자동 분류 제안
    ⬜ 핵심 현행 문서 마이그레이션 완료

장기 (조건 충족 시):
    ⬜ Python 엔진 추가 (OCR + NLP)
    ⬜ 이미지 PDF 텍스트 추출
    ⬜ 멀티모달 AI 연동 (이미지 직접 분석)
    ⬜ 자동 분류 + 관계 추론
    ⬜ RAG 내재화 (외주 종료, 데이터 주권 완전 확보)
```

### 핵심 원칙

> **"완벽한 시스템을 한 번에 만들지 않는다."**
>
> - 체계(그릇)를 먼저 만들고
> - 데이터를 채우면서 가치를 증명하고
> - 기술이 성숙하면 AI를 얹는다
>
> 이 순서를 지키면, 각 단계에서 투자 대비 효과를 검증하고 다음 단계 진입 여부를 판단할 수 있다.
> 반대로, AI부터 시작하면 데이터가 없어서 실패하고, 그릇이 없어서 결과를 담을 곳도 없다.

---

# 부록: Phase 1 검증 결과

## 온톨로지 검증 결과

| 검증 항목 | 결과 |
|----------|------|
| 분류체계 일관성 | 통과 |
| 관계 무결성 | 통과 |
| 도메인 커버리지 | 통과 |
| 순환 참조 없음 | 통과 |
| SSOT 보장 | 통과 |
| 확장성 (새 도메인 추가) | 통과 |

## 지식 그래프 규모

- 노드: 840개 (문서 시뮬레이션)
- 엣지: 2,439개 (관계)
- 도메인: 6개 (SALES, COMM, CONTRACT, COMP, EDU + GA 루트)

---

**문서 끝**
