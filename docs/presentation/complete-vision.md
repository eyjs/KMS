# KMS 완성형: 문서관리 프레임워크의 최종 모습

> 발표용 스크립트 | NotebookLM PPT 생성용
> 모든 Phase 완료 후 최종 상태

---

# 슬라이드 1: 표지

**KMS: 문서관리 프레임워크 완성형**

*"시스템이 행동을 강제한다 - 그래서 문제가 없다"*

iFA 보험대리점

---

# 슬라이드 2: 프레임워크란 무엇인가

## 행동을 강제하는 틀

### 프레임워크의 정의

```
프레임워크 = 규칙의 틀

사용자에게 자유를 주되,
핵심 규칙은 강제한다.
```

### 비유: 도로와 신호등

```
[신호등이 없는 교차로]
- 각자 알아서 가세요
- 결과: 혼란, 사고

[신호등이 있는 교차로]
- 빨간불에 멈추세요 (강제)
- 결과: 질서, 안전

신호등 = 프레임워크
운전자 = 사용자
```

### 문서관리에 적용

```
[프레임워크 없는 문서관리]
- 파일 아무 데나 저장
- 이름 마음대로
- 최신인지 아닌지 모름
- 결과: 혼란, 오류

[프레임워크 있는 문서관리]
- 반드시 분류 선택 (강제)
- 같은 자리에 유효 문서 1개 (강제)
- 유통기한 자동 계산 (강제)
- 결과: 질서, 신뢰
```

---

# 슬라이드 3: 왜 "강제"가 필요한가

## 인간은 실수한다

### 자유가 주어지면

```
"파일명 규칙을 지켜주세요" (권장)
     ↓
실제 결과:
├── 삼성생명_종신_상품설명서.pdf
├── 삼성생명-종신-상품설명.pdf
├── SS_종신_설명서_최종.pdf
├── 종신보험_삼성_new.pdf
└── 상품설명서(삼성).pdf

→ 같은 문서인데 5가지 이름
→ 검색 불가, 중복 발생
```

### 강제가 적용되면

```
"분류를 선택하세요" (강제)
     ↓
시스템이 분류 입력 없이 저장 차단
     ↓
모든 문서에 동일한 분류 체계 적용
     ↓
결과: 일관성, 검색 가능
```

---

# 슬라이드 4: 프레임워크가 강제하는 것

## 5가지 핵심 규칙

### 1. 분류 필수 (Classification Required)

```
[강제]
문서 저장 시 반드시 분류 선택
- 보험사: 필수
- 상품: 필수 (일부 도메인)
- 문서유형: 필수

[효과]
모든 문서에 "주소"가 있음
→ 어떤 문서든 정확히 찾을 수 있음
```

### 2. 유일한 유효 문서 (SSOT)

```
[강제]
같은 분류 경로에 ACTIVE 문서는 1개만

[시스템 동작]
새 문서 ACTIVE → 기존 ACTIVE 자동 DEPRECATED

[효과]
"어떤 게 최신이지?" 질문 사라짐
→ ACTIVE만 보면 됨
```

### 3. 상태 전이 규칙 (Lifecycle)

```
[강제]
DRAFT → ACTIVE → DEPRECATED
다른 전이 불가

[시스템 동작]
잘못된 상태 변경 시도 → 오류 발생

[효과]
문서 상태가 항상 명확
→ 사용해도 되는지 확실히 알 수 있음
```

### 4. 관계 무결성 (Relation Integrity)

```
[강제]
순환 참조 금지
자기 자신 참조 금지

[시스템 동작]
A → B → C → A 시도 → 오류 발생

[효과]
관계 그래프가 항상 유효
→ 무한 루프 없음
```

### 5. 파일 형식 제한 (Format Restriction)

```
[강제]
PDF, Markdown, CSV만 허용
Word, Excel, PPT → 업로드 차단

[시스템 동작]
다른 형식 업로드 시 → 거부

[효과]
모든 문서 뷰어로 볼 수 있음
→ "파일이 안 열려요" 없음
```

---

# 슬라이드 5: 프레임워크가 강제하지 않는 것

## 도메인은 자유롭게

### 도메인별 커스터마이징

```
[시스템 규칙 - 모든 도메인 공통]
├── 분류 필수
├── SSOT
├── 라이프사이클
├── 관계 무결성
└── 파일 형식

[도메인 규칙 - 각자 정의]
├── 분류 축 구성 (보험사/상품 vs 서비스/단계)
├── 분류 값 목록 (삼성생명, 한화생명...)
├── 신선도 기준 (30일, 90일, 365일)
└── 문서 유형 목록
```

### 예시: 다른 사업에 적용

```
[GA 보험영업]
분류: 보험사 x 상품 x 문서유형
예: 삼성생명 > 종신보험 > 상품설명서

[메디코드 (가정)]
분류: 서비스 x 단계 x 문서유형
예: 청구대행 > 접수 > 매뉴얼

[교육사업 (가정)]
분류: 과정 x 모듈 x 자료유형
예: 설계사과정 > 기초교육 > 교재
```

---

# 슬라이드 6: 완성된 시스템의 모습

## 모든 Phase 완료 후

### 시스템 구성

```
┌─────────────────────────────────────────────────────────┐
│                    Vue 3 Dashboard                       │
│  ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐        │
│  │문서관리 │ │분류관리 │ │관계그래프│ │ 챗봇    │        │
│  └─────────┘ └─────────┘ └─────────┘ └─────────┘        │
└──────────────────────┬──────────────────────────────────┘
                       │
┌──────────────────────▼──────────────────────────────────┐
│                  .NET Core API Layer                     │
│  인증 │ 문서 CRUD │ 관계 관리 │ 분류 │ 검색              │
└──────────────────────┬──────────────────────────────────┘
                       │
         ┌─────────────┴─────────────┐
         │                           │
┌────────▼────────┐         ┌────────▼────────┐
│   PostgreSQL    │         │  Python Engine  │
│                 │         │   (Docker)      │
│  documents      │         │                 │
│  classifications│◄────────│  PDF 파싱       │
│  relations      │         │  한글 NLP       │
│  + pgvector     │◄────────│  벡터 생성      │
│                 │         │  자동 분류      │
└─────────────────┘         └─────────────────┘
```

---

# 슬라이드 7: 사용자 경험 - 업로드

## 문서 업로드 흐름

### 화면

```
┌─────────────────────────────────────────────────────────┐
│  문서 업로드                                             │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  [파일 선택] KB손해_든든어린이_상품요약_202602.pdf       │
│                                                         │
│  ─────────────────────────────────────────────────────  │
│                                                         │
│  🤖 자동 분류 제안                                      │
│  ┌─────────────────────────────────────────────────┐   │
│  │ 보험사:    [KB손해보험     ▼] 95% 확신          │   │
│  │ 상품:      [든든 어린이보험 ▼] 87% 확신         │   │
│  │ 문서유형:  [상품요약본     ▼] 92% 확신          │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
│  ⚠️ 같은 경로에 기존 문서가 있습니다                    │
│     기존 문서는 자동으로 DEPRECATED 처리됩니다          │
│                                                         │
│  [취소]                              [업로드] ← 강제    │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

### 프레임워크의 역할

```
1. 자동 분류 제안 (편의)
2. 분류 미선택 시 업로드 차단 (강제)
3. 중복 경고 + 자동 DEPRECATED (강제)
4. 허용 형식만 업로드 (강제)
```

---

# 슬라이드 8: 사용자 경험 - 검색

## 문서 검색 흐름

### 두 가지 검색

```
[분류 기반 검색 - 정확]
├── 보험사: KB손해보험
├── 상품: 든든 어린이보험
├── 문서유형: 상품요약본
└── 결과: 정확히 1개 (ACTIVE)

[자연어 검색 - 유연]
├── 질문: "어린이 보험 보장 내용"
├── 벡터 유사도 검색
└── 결과: 관련 문서 10개 (순위별)
```

### 검색 결과 화면

```
┌─────────────────────────────────────────────────────────┐
│  검색: "KB손해 어린이 보장"                              │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  📄 KB손해보험 든든어린이보험 상품요약본                 │
│     상태: 🟢 ACTIVE | 신선도: ████░░ 67%               │
│     [미리보기] [다운로드] [관계 보기]                    │
│                                                         │
│  📄 KB손해보험 든든어린이보험 약관                       │
│     상태: 🟢 ACTIVE | 신선도: █████░ 83%               │
│     [미리보기] [다운로드] [관계 보기]                    │
│                                                         │
│  📄 KB손해보험 어린이보험 비교표                         │
│     상태: 🟢 ACTIVE | 신선도: ███░░░ 50%               │
│     [미리보기] [다운로드] [관계 보기]                    │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

---

# 슬라이드 9: 사용자 경험 - 챗봇

## AI 문서 질의응답

### 화면

```
┌─────────────────────────────────────────────────────────┐
│  KMS 문서 챗봇                                          │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  👤 삼성생명 종신보험 해지 환급금 계산 방법은?          │
│                                                         │
│  🤖 삼성생명 종신보험의 해지 환급금은 다음과 같이       │
│     계산됩니다:                                         │
│                                                         │
│     1. 기본 공식: 납입보험료 × 해지환급률               │
│     2. 해지환급률은 경과 기간에 따라 다름               │
│        - 1년 미만: 30~50%                              │
│        - 3년 미만: 50~70%                              │
│        - 5년 이상: 80~90%                              │
│                                                         │
│     📎 참고 문서:                                       │
│     └── 삼성생명 종신보험 약관 v2.0 (p.15)             │
│     └── 삼성생명 종신보험 상품설명서 v3.0 (p.8)        │
│                                                         │
│  ─────────────────────────────────────────────────────  │
│  [질문 입력...]                              [전송]     │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

### 핵심: 출처 명시

```
- AI가 만들어낸 답변이 아님
- 실제 문서에서 추출한 내용
- 출처 클릭하면 원본 확인 가능
- 할루시네이션 방지
```

---

# 슬라이드 10: 사용자 경험 - 계약 시점 조회

## 과거 문서 찾기

### 시나리오

```
고객: "2021년에 가입한 보험 약관 보여주세요"
```

### 화면

```
┌─────────────────────────────────────────────────────────┐
│  시점 기준 조회                                         │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  기준일: [2021-03-15] 📅                               │
│  분류:   [삼성생명] [종신보험] [약관]                   │
│                                                         │
│  [조회]                                                 │
│                                                         │
│  ─────────────────────────────────────────────────────  │
│                                                         │
│  📜 2021-03-15 시점 유효 문서:                          │
│                                                         │
│  📄 삼성생명 종신보험 약관 v1.0                         │
│     유효 기간: 2020-01-01 ~ 2021-06-30                 │
│     상태: DEPRECATED (과거 버전)                        │
│     [미리보기] [다운로드]                               │
│                                                         │
│  ℹ️ 현재 유효 문서: 약관 v3.0 (2024-01-01~)            │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

### 프레임워크의 역할

```
- 모든 버전 보존 (DEPRECATED도 삭제 안 함)
- 유효 기간 자동 기록 (valid_from, valid_to)
- 시점 기준 조회 지원
```

---

# 슬라이드 11: 관리자 경험 - 대시보드

## 전체 현황 파악

### 화면

```
┌─────────────────────────────────────────────────────────┐
│  KMS 대시보드                           2026-02-09      │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  ┌─────────────┐ ┌─────────────┐ ┌─────────────┐       │
│  │ 전체 문서   │ │ ACTIVE 문서 │ │ 만료 임박   │       │
│  │   1,234    │ │    892     │ │    23      │       │
│  └─────────────┘ └─────────────┘ └─────────────┘       │
│                                                         │
│  ┌─────────────────────────┐ ┌─────────────────────┐   │
│  │ 라이프사이클 분포        │ │ 신선도 분포         │   │
│  │ ████████████░░ ACTIVE   │ │ ██████████░░ FRESH  │   │
│  │ ███░░░░░░░░░░░ DRAFT    │ │ ████░░░░░░░░ WARN   │   │
│  │ █░░░░░░░░░░░░░ DEPREC   │ │ ██░░░░░░░░░░ EXPIR  │   │
│  └─────────────────────────┘ └─────────────────────┘   │
│                                                         │
│  ⚠️ 주의 필요                                          │
│  ├── SSOT 위반: 0건 ✓                                  │
│  ├── 만료 문서: 23건 (7일 내)                          │
│  └── 관계 오류: 0건 ✓                                  │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

### 핵심: 문제 0건

```
프레임워크가 강제하기 때문에:
- SSOT 위반 발생 불가 (트리거가 막음)
- 순환 참조 발생 불가 (트리거가 막음)
- 잘못된 형식 업로드 불가 (시스템이 막음)

→ "문제"가 아니라 "주의"만 표시
→ 시스템적 오류는 0
```

---

# 슬라이드 12: 외부 연동

## API 기반 확장

### 연동 구조

```
┌─────────────────────────────────────┐
│           KMS (우리 시스템)           │
│                                     │
│  문서 저장 + 분류 + 관계 + 버전      │
│  모든 데이터 100% 소유               │
│                                     │
│         REST API 제공               │
└──────────────┬──────────────────────┘
               │
    ┌──────────┼──────────┬──────────┐
    │          │          │          │
    ▼          ▼          ▼          ▼
┌───────┐ ┌───────┐ ┌───────┐ ┌───────┐
│CRM    │ │설계사 │ │고객   │ │미래   │
│시스템 │ │ 앱    │ │포털   │ │시스템 │
└───────┘ └───────┘ └───────┘ └───────┘
```

### API 호출 예시

```bash
# 모든 ACTIVE 시책 조회
GET /api/v1/documents?docType=DOC-INCENTIVE&lifecycle=ACTIVE

# 특정 계약 시점 문서 조회
GET /api/v1/documents?asOf=2021-03-15&carrier=INS-SAMSUNG

# 관련 문서 조회
GET /api/v1/documents/123/relations?depth=2
```

---

# 슬라이드 13: 왜 문제가 없는가

## 프레임워크의 힘

### 기존 문제 vs 프레임워크 적용 후

| 기존 문제 | 프레임워크 해결 |
|----------|---------------|
| 파일이 흩어져 있음 | 중앙 집중 저장 (강제) |
| 분류가 제각각 | 분류 선택 필수 (강제) |
| 최신 버전 모름 | SSOT로 1개만 유효 (강제) |
| 만료 문서 사용 | 신선도 자동 계산 (강제) |
| 관련 문서 못 찾음 | 관계 연결 (선택, 권장) |
| 형식 혼란 | 3가지만 허용 (강제) |

### 핵심 인사이트

```
"문제가 없는 게 아니라,
 문제가 발생할 수 없는 구조"

사람이 실수해도 → 시스템이 막음
규칙을 어기려 해도 → 시스템이 거부
잘못된 데이터 입력해도 → 트리거가 롤백

→ 데이터 무결성 100% 보장
```

---

# 슬라이드 14: 프레임워크의 3계층

## 시스템 / 도메인 / 사용자

### 계층 구조

```
┌─────────────────────────────────────────────────────────┐
│  사용자 계층 (User Layer)                                │
│                                                         │
│  "이 문서를 어디에 저장할까?"                            │
│  "관련 문서를 연결할까?"                                 │
│  "검토 완료 처리할까?"                                   │
│                                                         │
│  → 선택의 자유                                          │
├─────────────────────────────────────────────────────────┤
│  도메인 계층 (Domain Layer)                              │
│                                                         │
│  GA-SALES: 보험사 x 상품 x 문서유형                      │
│  GA-EDU: 문서유형만                                      │
│  MEDI-SVC: 서비스 x 단계 x 문서유형                      │
│                                                         │
│  → 사업별 커스터마이징                                   │
├─────────────────────────────────────────────────────────┤
│  시스템 계층 (System Layer) - 불변                       │
│                                                         │
│  분류 필수 / SSOT / 라이프사이클 / 관계 무결성 / 형식    │
│                                                         │
│  → 절대 강제, 예외 없음                                  │
└─────────────────────────────────────────────────────────┘
```

---

# 슬라이드 15: 데이터 흐름

## 문서의 일생

### 전체 흐름

```
[1. 업로드]
파일 선택 → 형식 검증 → 분류 선택 (강제) → 저장

[2. 파싱 (Phase 3)]
PDF 텍스트 추출 → NLP 분석 → 벡터 생성 → 인덱싱

[3. 승인]
DRAFT → ACTIVE → valid_from 기록 → SSOT 검증

[4. 사용]
검색 → 조회 → 미리보기 → 다운로드 → 관계 탐색

[5. 갱신]
새 버전 업로드 → 기존 버전 DEPRECATED → valid_to 기록

[6. 보관]
DEPRECATED 상태로 영구 보관 → 시점 조회 가능
```

### 모든 단계에서 프레임워크 적용

```
업로드: 형식 강제, 분류 강제
승인: SSOT 강제
갱신: 자동 DEPRECATED 강제
보관: 삭제 대신 보관 강제
```

---

# 슬라이드 16: 비즈니스 가치

## 프레임워크가 주는 것

### 정량적 가치

| 지표 | Before | After | 개선 |
|------|--------|-------|------|
| 문서 검색 시간 | 30분 | 1분 | 97% |
| 잘못된 정보 사용 | 월 5건 | 0건 | 100% |
| 신입 교육 기간 | 2주 | 1주 | 50% |
| 민원 대응 시간 | 2시간 | 10분 | 92% |

### 정성적 가치

```
[설계사]
- 상담 자신감 ↑
- 정확한 정보 ↑
- 영업 시간 ↑

[관리자]
- 현황 파악 ↑
- 컴플라이언스 ↑
- 인수인계 ↑

[회사]
- 지식 자산화 ↑
- 업무 표준화 ↑
- 확장 기반 ↑
```

---

# 슬라이드 17: 확장 가능성

## 다른 사업에도 적용

### 프레임워크의 재사용

```
[GA 보험영업] - 현재
├── 도메인: GA-SALES, GA-COMM...
├── 분류: 보험사 x 상품 x 문서유형
└── 문서: 시책, 약관, 상품설명서...

[메디코드] - 확장 가능
├── 도메인: MEDI-SVC, MEDI-OPS...
├── 분류: 서비스 x 단계 x 문서유형
└── 문서: 매뉴얼, 가이드, 계약서...

[교육사업] - 확장 가능
├── 도메인: EDU-COURSE, EDU-CERT...
├── 분류: 과정 x 모듈 x 자료유형
└── 문서: 교재, 시험, 수료증...
```

### 확장 비용

```
시스템 계층: 그대로 사용 (0원)
도메인 계층: 설정 추가 (수일)
사용자 계층: 교육 (수일)

→ 새 사업 적용 비용 최소화
```

---

# 슬라이드 18: 최종 정리

## 프레임워크의 핵심

### 강제하는 것 (시스템 계층)

```
1. 분류 필수 - 문서에 주소가 있어야 함
2. SSOT - 유효 문서는 1개만
3. 라이프사이클 - 상태 전이 규칙
4. 관계 무결성 - 순환 금지
5. 파일 형식 - PDF/MD/CSV만
```

### 자유로운 것 (도메인 계층)

```
1. 분류 축 구성 - 사업별 다르게
2. 분류 값 - 사업별 정의
3. 신선도 기준 - 문서별 다르게
4. 관계 연결 - 선택 사항
```

### 결과

```
"시스템이 행동을 강제하기 때문에
 사람의 실수가 문제로 이어지지 않는다"

→ 데이터 품질 보장
→ 일관성 유지
→ 신뢰할 수 있는 시스템
```

---

# 슬라이드 19: 핵심 메시지

## 기억해야 할 것

### 프레임워크란

```
"자유를 주되, 핵심은 강제한다"

- 사용자가 뭘 저장할지는 자유
- 어떻게 저장할지는 강제

- 어떤 관계를 만들지는 자유
- 순환 참조는 강제로 금지

- 언제 승인할지는 자유
- SSOT 위반은 강제로 방지
```

### 왜 문제가 없는가

```
"문제가 발생할 수 없는 구조"

- 트리거가 잘못된 데이터 막음
- 시스템이 잘못된 형식 거부
- 자동화가 사람의 실수 보완

→ 설계가 문제를 예방
```

---

# 슬라이드 20: 결론

## KMS 완성형

### 최종 상태

```
모든 Phase 완료 시:

[기능]
├── 문서 업로드/분류/관계 관리 (Phase 2)
├── PDF/Markdown/CSV 뷰어 (Phase 2)
├── 시점 기반 문서 추적 (Phase 2)
├── PDF 텍스트 추출 (Phase 3)
├── 한글 NLP + 자동 분류 (Phase 3)
├── 벡터 검색 (Phase 3)
└── RAG 챗봇 (Phase 3)

[가치]
├── 데이터 100% 소유
├── 문서 품질 보장
├── 외부 의존 제거
└── 확장 기반 확보
```

### 핵심

> **"프레임워크가 행동을 강제한다 - 그래서 문제가 없다"**

---

**문서 끝**
