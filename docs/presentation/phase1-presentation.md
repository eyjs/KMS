# Phase 1: 문서 분류체계 검증

> 발표용 스크립트 | NotebookLM PPT 생성용
> 상태: 완료

---

# 슬라이드 1: 표지

**Phase 1: 문서 분류체계 검증**

*"체계가 동작하는지 먼저 확인한다"*

iFA 보험대리점 | 2026년 1~2월

---

# 슬라이드 2: Phase 1 목표

## 시스템 구축 전에 검증한다

### 왜 검증이 필요한가?

```
[잘못된 접근]
바로 시스템 개발 → 분류체계 문제 발견 → 전면 재설계 → 시간/비용 낭비

[올바른 접근]
분류체계 먼저 검증 → 문제점 수정 → 검증된 체계로 시스템 개발
```

### Phase 1의 질문

1. 이 분류체계로 모든 문서를 정리할 수 있는가?
2. 문서 간 관계가 올바르게 연결되는가?
3. 중복 문서를 막을 수 있는가?
4. 실제 데이터로 테스트하면 문제가 없는가?

---

# 슬라이드 3: 검증 방법

## 실제 데이터로 시뮬레이션

### 접근 방식

```
실제 시스템 없이 검증하는 방법:

1. Python으로 데이터 생성기 제작
2. 실제 보험사/상품/문서 데이터 입력
3. 840개 노드, 2,439개 관계 자동 생성
4. 웹 페이지에서 시각적으로 확인
5. 자동화된 검증 테스트 실행
```

### 사용 기술

| 도구 | 용도 |
|------|------|
| Python | 데이터 생성, 검증 |
| JSON | 데이터 저장 |
| HTML + Vue | 시각화 UI |
| vis-network | 그래프 시각화 |

---

# 슬라이드 4: 분류체계 설계

## 3축 분류 (3-Axis Taxonomy)

### 모든 문서에 세 가지 질문

```
1. 누구(WHO)의 것인가? → 보험사
2. 무슨(WHAT) 상품인가? → 상품
3. 어떤(WHICH) 문서인가? → 문서유형
```

### 분류 경로 예시

```
삼성생명 > 종신보험 > 상품설명서
KB손해보험 > 어린이보험 > 시책
한화생명 > 암보험 > 수수료표
```

### 분류 값

| 축 | 개수 | 예시 |
|----|------|------|
| 보험사 | 12개 | 삼성생명, 한화생명, KB손해보험... |
| 상품 | 15개 | 종신보험, 어린이보험, 암보험... |
| 문서유형 | 20개 | 시책, 수수료표, 상품설명서, 약관... |

---

# 슬라이드 5: 도메인 설계

## 사업 영역별 분류체계

### 6개 도메인 정의

| 도메인 | 분류 축 | 설명 |
|--------|---------|------|
| GA-SALES | 보험사 x 상품 x 문서유형 | 영업 문서 |
| GA-COMM | 보험사 x 상품 x 문서유형 | 수수료/정산 |
| GA-CONTRACT | 보험사 x 상품 x 문서유형 | 계약관리 |
| GA-COMP | 보험사 x 문서유형 | 컴플라이언스 |
| GA-EDU | 문서유형 | 교육/역량 |
| COMMON-COMP | 문서유형 | 전사 규제 |

### 도메인별 차이

```
GA-SALES: 보험사 x 상품 x 문서유형 (3축)
→ "삼성생명 종신보험 시책"

GA-COMP: 보험사 x 문서유형 (2축, 상품 무관)
→ "삼성생명 컴플라이언스 가이드"

GA-EDU: 문서유형만 (1축, 보험사/상품 무관)
→ "신입 교육자료"
```

---

# 슬라이드 6: 라이프사이클

## 문서의 생애 주기

### 3단계 상태

```
┌─────────┐         ┌─────────┐         ┌────────────┐
│ DRAFT   │ ──────► │ ACTIVE  │ ──────► │ DEPRECATED │
│ 작성 중  │         │ 사용 중  │         │ 만료됨     │
└─────────┘         └─────────┘         └────────────┘
```

### 상태별 의미

| 상태 | 의미 | 사용자 행동 |
|------|------|------------|
| DRAFT | 작성 중 | 편집 가능, 배포 안 됨 |
| ACTIVE | 유효함 | 실무에서 사용 |
| DEPRECATED | 만료됨 | 참고만, 사용 금지 |

### 핵심 규칙

**ACTIVE 문서만 실무에서 사용한다**

---

# 슬라이드 7: 신선도

## 문서의 유통기한

### 티어별 기준

| 티어 | 문서 종류 | 유통기한 | 비유 |
|------|----------|---------|------|
| HOT | 시책, 수수료 | 30일 | 우유 |
| WARM | 상품설명서, 스크립트 | 90일 | 햄 |
| COLD | 약관, 교육자료 | 365일 | 통조림 |

### 신선도 계산

```
경과일 = 오늘 - 마지막 수정일

FRESH:   경과일 < 유통기한 x 70%  (안전)
WARNING: 경과일 < 유통기한       (주의)
EXPIRED: 경과일 >= 유통기한      (갱신 필요)
```

### 시각화

```
시책 (30일 기준)

10일 경과: ████████░░░░░░░░░░░░ 33% [FRESH]
21일 경과: ██████████████░░░░░░ 70% [WARNING]
35일 경과: ██████████████████████ 116% [EXPIRED]
```

---

# 슬라이드 8: 관계 유형

## 문서 간 연결

### 4가지 관계

| 관계 | 설명 | 방향 | 예시 |
|------|------|------|------|
| PARENT-CHILD | 부모-자식 | 양방향 | 상품설명서 → 약관 |
| SIBLING | 형제 | 양방향 | 스크립트 ↔ FAQ |
| REFERENCE | 참조 | 단방향 | 시책 → 수수료표 |
| SUPERSEDES | 대체 | 단방향 | v2.0 → v1.0 |

### 관계 시각화

```
            [상품설명서]
                 │
     ┌───────────┼───────────┐
     ▼           ▼           ▼
  [약관]    [스크립트]    [수수료표]
     │           │           │
     └─────[형제]─┴───────────┘
                             │
                        [참조]│
                             ▼
                          [시책]
```

---

# 슬라이드 9: SSOT 원칙

## 같은 자리에 유효 문서는 하나

### Single Source of Truth

```
[SSOT 규칙]

분류 경로: 삼성생명 > 종신보험 > 상품설명서

허용:
├── v3.0 [ACTIVE]      ← 유일한 유효 문서
├── v2.0 [DEPRECATED]  ← 과거 버전 (보관)
└── v1.0 [DEPRECATED]  ← 과거 버전 (보관)

금지:
├── v3.0 [ACTIVE]  ← 둘 다 ACTIVE?
└── v2.5 [ACTIVE]  ← SSOT 위반!
```

### 왜 중요한가

```
SSOT 없으면:
- 설계사 A: v3.0 사용
- 설계사 B: v2.5 사용
- 고객에게 다른 정보 제공
- 민원 발생

SSOT 있으면:
- 모든 설계사가 v3.0 사용
- 일관된 정보 제공
- 신뢰 확보
```

---

# 슬라이드 10: 생성된 데이터

## 시뮬레이션 결과

### 그래프 통계

| 항목 | 개수 |
|------|------|
| 총 노드 | 840개 |
| 총 관계 | 2,439개 |
| 문서 노드 | 767개 |
| 개념 노드 | 25개 |
| 프로세스 노드 | 12개 |
| 규제 노드 | 5개 |

### 노드 구성

```
[노드 분포]

문서 (767개, 91%)
├── 시책: 120개
├── 수수료표: 120개
├── 상품설명서: 180개
├── 약관: 180개
├── 스크립트: 90개
└── 교육자료: 77개

개념 (25개, 3%)
├── 보험사: 12개
├── 상품군: 8개
└── 문서유형: 5개

프로세스 (12개, 1%)
└── 업무 프로세스 단계

규제 (5개, 1%)
└── 컴플라이언스 규제
```

---

# 슬라이드 11: 검증 테스트

## 자동화된 구조 검증

### 6개 테스트 항목

| 테스트 | 내용 | 결과 |
|--------|------|------|
| @type 커버리지 | 모든 노드에 타입 존재 | 840/840 통과 |
| 필수 속성 | 문서에 필수 필드 존재 | 767/767 통과 |
| 프로세스 순서 | 업무 단계 순서 정확 | 7개 PRECEDES 엣지 |
| 규제 관계 | 규제-문서 연결 존재 | GOVERNS 2, RESTRICTS 2 |
| 개념 그래프 | 개념 간 관계 존재 | 25개 개념, 42개 관계 |
| 문서-프로세스 | 문서가 프로세스에 연결 | 813개 USED_IN |

### 검증 결과

```
┌────────────────────────────────┐
│     검증 결과: 6/6 통과         │
│     통과율: 100%               │
│     평균 점수: 1.00            │
└────────────────────────────────┘
```

---

# 슬라이드 12: Admin UI

## 검증용 관리 화면

### 화면 구성

```
┌─────────────────────────────────────────────────────────┐
│  [계층 뷰] [목록 뷰] [검증 뷰] [타임라인] [대시보드]      │
├──────────────┬────────────────────────┬─────────────────┤
│              │                        │                 │
│  왼쪽 패널    │     가운데 영역         │   오른쪽 패널   │
│              │                        │                 │
│  보험사       │     선택한 항목의       │   상세 정보     │
│  └ 상품      │     문서 목록 또는      │   분류          │
│    └ 문서    │     그래프 시각화       │   관계          │
│              │                        │   신선도        │
│              │                        │                 │
└──────────────┴────────────────────────┴─────────────────┘
```

### 주요 기능

1. **계층 탐색**: 보험사 > 상품 > 문서 드릴다운
2. **그래프 뷰**: 문서 관계 시각화
3. **검증 뷰**: SSOT, 전파 테스트
4. **대시보드**: 전체 현황 요약

---

# 슬라이드 13: 검증 시나리오

## 실제 테스트 케이스

### 시나리오 1: 문서 전파

```
[테스트]
시책 문서 선택 → 연관 문서 조회

[기대 결과]
시책 → 수수료표 (참조)
     → 상품설명서 (형제의 부모)

[실제 결과]
✓ 관계 그래프에서 연결된 문서 표시
✓ 깊이 1, 2 탐색 정상 동작
```

### 시나리오 2: SSOT 검증

```
[테스트]
같은 경로에 ACTIVE 문서 2개 등록 시도

[기대 결과]
경고 발생, 등록 차단 또는 기존 문서 DEPRECATED 전환

[실제 결과]
✓ 중복 감지 경고 표시
✓ 해결 방안 제시
```

### 시나리오 3: 상품 개편

```
[테스트]
"든든 어린이보험" → "든든 어린이보험 리뉴얼(2026-02)"

[기대 결과]
별도 상품으로 등록, SUPERSEDES 관계 설정

[실제 결과]
✓ 신규 상품 독립 등록
✓ 이전 상품과 대체 관계 연결
```

---

# 슬라이드 14: Phase 1 산출물

## 완료된 결과물

### 문서

| 산출물 | 위치 | 내용 |
|--------|------|------|
| 프레임워크 스펙 | phase1/framework-spec.md | 전체 설계 명세 |
| 개념 설명서 | phase1/concepts-explained.md | 비기술 사용자용 |
| GA 도메인 예시 | phase1/ga-domain-example.md | 보험영업 적용 예 |
| 도메인 템플릿 | phase1/domain-template.md | 신규 도메인 추가용 |

### 코드

| 산출물 | 위치 | 내용 |
|--------|------|------|
| 분류체계 정의 | src/taxonomy.py | 마스터 데이터 |
| 데이터 시뮬레이터 | src/simulator.py | 그래프 생성 |
| 온톨로지 생성기 | src/simulator_ontology.py | @type 포함 |
| 검증기 | src/ontology_validator.py | 구조 검증 |

### 데이터

| 산출물 | 위치 | 내용 |
|--------|------|------|
| 분류체계 JSON | data/taxonomy.json | 마스터 데이터 |
| 지식 그래프 | data/knowledge-graph.json | 840노드 그래프 |
| 검증 결과 | phase1/results/ | 6/6 통과 |

---

# 슬라이드 15: 검증 완료 기준

## Phase 1 체크리스트

| 기준 | 상태 | 증빙 |
|------|------|------|
| 3축 분류체계 정의 | 완료 | taxonomy.py |
| 6개 도메인 정의 | 완료 | taxonomy.py |
| 라이프사이클 3단계 | 완료 | framework-spec.md |
| 신선도 티어 정의 | 완료 | HOT/WARM/COLD |
| 관계 유형 4가지 | 완료 | framework-spec.md |
| SSOT 규칙 정의 | 완료 | framework-spec.md |
| 시뮬레이션 데이터 생성 | 완료 | 840노드/2,439엣지 |
| 자동화 검증 통과 | 완료 | 6/6 (100%) |
| Admin UI 동작 | 완료 | admin.html |

**Phase 1 상태: 완료**

---

# 슬라이드 16: Phase 2로 이어지는 것

## 검증된 것 → 구현

### Phase 1에서 검증된 것

```
✓ 분류체계가 모든 문서를 커버한다
✓ 관계 구조가 올바르게 동작한다
✓ SSOT 규칙이 중복을 방지한다
✓ 신선도 계산이 정확하다
✓ 도메인별 분류 축이 적절하다
```

### Phase 2에서 구현할 것

```
Phase 1 (개념)          →    Phase 2 (구현)
─────────────────────────────────────────────
JSON 파일 저장          →    PostgreSQL DB
Python 시뮬레이터       →    .NET Core API
단일 HTML 페이지        →    Vue 3 앱
브라우저 localStorage   →    서버 스토리지
수동 검증               →    자동화된 트리거
```

### 핵심 메시지

> "Phase 1에서 검증된 체계를 Phase 2에서 실제 시스템으로 구현한다"

---

# 슬라이드 17: 결론

## Phase 1 요약

### 목표

```
시스템 구축 전에 분류체계가 동작하는지 검증
```

### 결과

```
✓ 6개 도메인, 3축 분류체계 설계
✓ 840개 노드, 2,439개 관계 생성
✓ 6개 자동화 테스트 100% 통과
✓ Admin UI로 시각적 검증 완료
```

### 의미

```
- 분류체계가 실제 데이터에서 동작함을 증명
- Phase 2 개발 착수 근거 확보
- 시행착오 비용 사전 절감
```

---

# 부록: Phase 1 기술 상세

## 데이터 모델

```javascript
{
  id: "DOC-001",
  domain: "GA-SALES",
  classification: {
    carrier: "INS-SAMSUNG",
    product: "PRD-LIFE-WHOLE",
    docType: "DOC-TERMS"
  },
  lifecycle: "ACTIVE",
  version: { major: 1, minor: 0 },
  tier: "COLD",
  relations: {
    parent: null,
    children: ["DOC-002", "DOC-003"],
    siblings: ["DOC-004"],
    references: ["DOC-005"]
  }
}
```

## 실행 명령어

```bash
# 데이터 생성
python src/taxonomy.py
python src/simulator.py

# 검증
python src/ontology_validator.py

# UI 확인
npx serve . -p 8080
# http://localhost:8080/ui/admin.html
```

---

**문서 끝**
