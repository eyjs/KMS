# KMS 프로젝트 구현 전략 보고서

## 문서 정보
- 작성일: 2026-02-08
- 대상: CEO / 경영진
- 목적: 프로젝트 구현 방안 결정 및 단계별 전략 수립

---

# 1. Executive Summary

## 핵심 결정

> **"문서 체계 관리 시스템으로 시작하고, 문서 처리 기능은 확장 가능하게 설계한다"**

## 선택한 방안

| 항목 | 결정 |
|------|------|
| 구현 방식 | Option A: 체계 관리형 |
| 개발 기간 | 2-3개월 |
| 개발 비용 | 2,000-3,000만원 |
| 기술 스택 | .NET Core + Vue 3 + PostgreSQL |
| Python 사용 | 불필요 |
| IT팀 운영 | 가능 |
| 성공 확률 | 70% |

## 왜 이 방안인가

```
현실:
- 현재 기술 성숙도로 올인원 시스템 구축 불가능
- 무리하게 진행 시 프로젝트 실패 확률 높음
- IT팀이 Python 운영 불가

전략:
- 체계(분류, 관계, 라이프사이클)를 먼저 잡는다
- 문서 처리(파싱, NLP, 벡터화)는 외주에 위임
- 나중에 내재화할 수 있도록 확장 포인트만 열어둔다
```

---

# 2. 두 가지 방안 비교

## Option A: 체계 관리형 (선택)

### 개념
```
"문서가 어디에 있고, 무엇이고, 어떻게 연결되는지만 관리"
"실제 내용 처리는 외부에 위임"
```

### 시스템 범위

| 구분 | 우리가 함 | 외주가 함 |
|------|----------|----------|
| 파일 업로드/저장 | O | - |
| 분류 체계 관리 | O | - |
| 관계 관리 | O | - |
| 라이프사이클 | O | - |
| 문서 뷰어 | O | - |
| API 제공 | O | - |
| PDF 텍스트 추출 | - | O |
| 한글 NLP | - | O |
| 벡터 DB 구축 | - | O |
| RAG/챗봇 | - | O |

### 비용 및 일정

| 항목 | 내용 |
|------|------|
| 개발 기간 | 2-3개월 |
| 개발 비용 | 2,000-3,000만원 |
| 연간 운영비 | 1,000만원 |
| 외주 RAG 비용 | 별도 (업체에 따라 상이) |

### 성공 확률

| 단계 | 확률 |
|------|------|
| 개발 완료 | 90% |
| 운영 이관 | 85% |
| 5년 후 운영 | 70% |

---

## Option B: 올인원 처리형 (기각)

### 개념
```
"문서 업로드부터 RAG까지 전체 파이프라인 내재화"
```

### 기각 사유

| 문제 | 상세 |
|------|------|
| 기술 난이도 | Python 필수, IT팀 운영 불가 |
| 개발 기간 | 9-15개월 (너무 김) |
| 개발 비용 | 1억원+ (예산 초과) |
| 성공 확률 | 30% (너무 낮음) |
| 리스크 | 실패 시 전액 손실 |

### 비교 요약

| 항목 | Option A | Option B |
|------|----------|----------|
| 개발 기간 | 2-3개월 | 9-15개월 |
| 개발 비용 | 3,000만원 | 1억원+ |
| 성공 확률 | 70% | 30% |
| IT팀 운영 | 가능 | 불가 |
| Python 필요 | X | O |

---

# 3. 시스템 아키텍처

## 전체 구조

```
사용자
   │
   ▼
┌─────────────────────────────────────┐
│         Vue 3 Admin Dashboard        │
│  • 문서 업로드                       │
│  • 분류 선택                         │
│  • 관계 편집                         │
│  • 문서 뷰어                         │
└──────────────┬──────────────────────┘
               │
               ▼
┌─────────────────────────────────────┐
│          .NET Core API               │
│  • 문서 CRUD                         │
│  • 분류/관계 관리                    │
│  • 파일 저장/다운로드                │
│  • 외부 API 제공                     │
└──────────────┬──────────────────────┘
               │
               ▼
┌─────────────────────────────────────┐
│          PostgreSQL                  │
│  • 문서 메타데이터                   │
│  • 분류 체계                         │
│  • 관계                              │
└──────────────┬──────────────────────┘
               │
         [REST API]
               │
    ┌──────────┴──────────┐
    ▼                     ▼
┌─────────┐          ┌─────────┐
│ 외주 A   │          │ 외주 B   │
│ RAG업체  │          │ 챗봇업체 │
└─────────┘          └─────────┘
```

## 데이터 주권 구조

```
우리 회사 (데이터 소유권 100%)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
• 원본 문서 저장소
• 메타데이터 DB
• 분류 체계 정의
• 접근 권한 통제
• API 제공

외주 업체 (사용권만 부여)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
• API로 문서 조회/다운로드
• 자체 시스템에서 처리
• 계약 종료 시 데이터 삭제 의무
```

## 외주 교체 프로세스

```
교체 소요 시간: 1일

1. 새 업체와 계약
2. API 키 발급
3. API 매뉴얼 전달 (이미 준비됨)
4. 새 업체가 자체 구축
5. 기존 업체 계약 종료 + 데이터 삭제 요청
```

---

# 4. 기능 상세

## 4.1 문서 관리 (Admin)

| 기능 | 설명 |
|------|------|
| 문서 업로드 | PDF 파일 업로드, 저장 |
| 분류 선택 | 보험사/상품/문서유형 드롭다운 |
| 관계 설정 | 부모-자식, 참조 관계 지정 |
| 상태 관리 | DRAFT, ACTIVE, DEPRECATED 전환 |
| 신선도 표시 | HOT/WARM/COLD 자동 계산 |
| 벌크 업로드 | 다중 파일 일괄 업로드 |

## 4.2 문서 뷰어 (View)

| 기능 | 설명 |
|------|------|
| PDF 뷰어 | 인라인 PDF 미리보기 (pdf.js) |
| 메타데이터 패널 | 분류, 상태, 날짜 표시 |
| 관계 목록 | 연관 문서 리스트 |
| 관계 그래프 | vis-network 시각화 |
| 다운로드 | 원본 파일 다운로드 |

## 4.3 검색

| 기능 | Phase 2 | Phase 3 (확장) |
|------|---------|---------------|
| 메타데이터 검색 | O | O |
| 파일명 검색 | O | O |
| 본문 검색 | X | O |
| 유사 문서 검색 | X | O |

## 4.4 외부 API

| 엔드포인트 | 설명 |
|-----------|------|
| GET /api/v1/documents | 문서 목록 조회 |
| GET /api/v1/documents/{id} | 단일 문서 메타데이터 |
| GET /api/v1/documents/{id}/file | 원본 파일 다운로드 |
| GET /api/v1/documents/{id}/relations | 관계 문서 목록 |
| GET /api/v1/taxonomy/carriers | 보험사 목록 |
| GET /api/v1/taxonomy/products | 상품 목록 |
| GET /api/v1/taxonomy/doctypes | 문서유형 목록 |

---

# 5. 확장성 설계

## 핵심 원칙

> **"지금은 안 만들지만, 나중에 붙일 자리는 만들어둔다"**

## Phase 3 확장 포인트

### 5.1 데이터베이스 확장

```
Phase 2 (현재):
• documents 테이블 기본 구조
• classifications 테이블
• relations 테이블

Phase 3 (확장 시):
• document_content 테이블 추가 (추출 텍스트)
• document_embeddings 테이블 추가 (벡터)
• 전문 검색 인덱스 추가
```

### 5.2 API 확장

```
Phase 2:
/api/v1/documents
/api/v1/documents/{id}/file

Phase 3 추가:
/api/v1/documents/{id}/text      # 추출된 텍스트
/api/v1/documents/{id}/keywords  # 키워드
/api/v1/search?q=본문검색        # 전문 검색
/api/v2/documents                # 확장 버전
```

### 5.3 아키텍처 확장

```
Phase 2:
.NET API → PostgreSQL

Phase 3:
.NET API → Python Engine (추가) → PostgreSQL
              ↓
         Vector DB (추가)
```

### 5.4 인터페이스 예약

```
Phase 2에서 정의만:
• IDocumentProcessor (문서 처리 인터페이스)
• IVectorStore (벡터 저장소 인터페이스)
• ISearchEngine (검색 엔진 인터페이스)

Phase 3에서 구현체 연결:
• PythonDocumentProcessor
• PgVectorStore
• ElasticsearchEngine
```

---

# 6. 기술 스택

## Phase 2 (확정)

| 레이어 | 기술 | 버전 | 비고 |
|--------|------|------|------|
| Frontend | Vue 3 | 3.4+ | 회사 표준 |
| UI 라이브러리 | Element Plus | 2.x | Vue 3 호환 |
| 빌드 | Vite | 5.x | Vue 팀 공식 |
| Backend | ASP.NET Core | 8.0 LTS | IT팀 역량 |
| ORM | Entity Framework Core | 8.x | MS 공식 |
| 인증 | JWT Bearer | - | SPA 표준 |
| Database | PostgreSQL | 16 | 오픈소스, JSONB |
| PDF 뷰어 | pdf.js | - | 모질라 오픈소스 |
| 그래프 | vis-network | 9.x | 검증됨 |

## Phase 3 (예정, 선택적)

| 레이어 | 기술 | 비고 |
|--------|------|------|
| 문서 처리 | Python 3.11 + pdfplumber | 필요시 추가 |
| 한글 NLP | Kiwi (kiwipiepy) | 필요시 추가 |
| 벡터 DB | pgvector 또는 외부 | 필요시 추가 |
| 컨테이너 | Docker | Python 격리용 |

---

# 7. 일정 및 비용

## Phase 2 일정

| 월 | 마일스톤 | 상세 |
|----|---------|------|
| M1 | 환경 구축 | DB 스키마, 프로젝트 셋업 |
| M2 | 핵심 기능 | 업로드, 분류, 관계 CRUD |
| M3 | UI/뷰어 | Admin Dashboard, PDF 뷰어 |
| M4 | API/테스트 | 외부 API, 통합 테스트 |
| M5 | 안정화 | 버그 수정, 운영 이관 |

## 비용

| 항목 | 금액 |
|------|------|
| 초기 개발 | 2,000-3,000만원 |
| 연간 운영 | 1,000만원 |
| 5년 총비용 | 6,000-7,000만원 |
| 외주 RAG | 별도 (업체별 상이) |

## 원안 대비 절감

| 항목 | 원안 (Option B) | 현 방안 (Option A) | 절감 |
|------|----------------|-------------------|------|
| 초기 개발 | 1억원+ | 3,000만원 | 70% |
| 5년 총비용 | 5억원 | 7,000만원 | 86% |

---

# 8. 리스크 및 대응

## 주요 리스크

| 리스크 | 확률 | 영향 | 대응 |
|--------|------|------|------|
| 외주 RAG 품질 불량 | 중 | 중 | 업체 교체 (API 표준화) |
| IT팀 운영 역량 부족 | 저 | 중 | 교육, 문서화 |
| 사용자 수용성 낮음 | 중 | 고 | MVP로 검증 후 확대 |
| Phase 3 확장 불가 | 저 | 저 | 외주 유지 가능 |

## 실패 시 손실

| 시나리오 | Option A 손실 | Option B 손실 |
|---------|--------------|--------------|
| Phase 2 실패 | 3,000만원 | 1억원+ |
| 운영 실패 | 5,000만원 | 2억원+ |

---

# 9. 성공 기준

## Phase 2 완료 기준

| 기준 | 측정 방법 |
|------|----------|
| 문서 업로드 | 1,000개 이상 등록 |
| 분류 체계 | 6개 도메인 정상 동작 |
| 관계 관리 | 순환 참조 차단 동작 |
| 뷰어 | PDF 정상 표시 |
| API | 외부 연동 테스트 통과 |
| IT팀 이관 | 단독 운영 가능 확인 |

## 비즈니스 효과

| 효과 | 기대치 |
|------|--------|
| 문서 검색 시간 | 90% 감소 (10분 → 1분) |
| 중복 문서 | 80% 감소 |
| 만료 문서 사용 | 70% 감소 |
| 신규자 온보딩 | 50% 단축 |

---

# 10. 결론

## 핵심 메시지

```
1. 체계를 먼저 잡는다
   → 문서 분류, 관계, 라이프사이클 관리

2. 처리는 외주에 맡긴다
   → RAG, 챗봇은 API로 연동

3. 확장성은 열어둔다
   → 나중에 Python 엔진 추가 가능

4. 데이터 주권은 확보한다
   → 원본 + 체계는 100% 우리 소유
```

## 승인 요청

| 항목 | 내용 |
|------|------|
| 예산 | 초기 3,000만원 + 연간 1,000만원 |
| 일정 | 5개월 (개발 4개월 + 안정화 1개월) |
| 인력 | 프론트엔드 1명(내부) + 백엔드 지원(외주/내부) |
| 방식 | Option A (체계 관리형) |

## 최종 판단

> **"현재 기술 성숙도에서 실현 가능한 최선의 방안"**
>
> 성공 확률 70%, 실패 시 손실 최소화
>
> 나중에 확장 가능한 구조로 설계

---

# 부록: 용어 정의

| 용어 | 설명 |
|------|------|
| SSOT | Single Source of Truth, 단일 진실 공급원 |
| 라이프사이클 | 문서 상태 (DRAFT → ACTIVE → DEPRECATED) |
| 신선도 | 문서 최신성 (HOT/WARM/COLD) |
| 관계 | 문서 간 연결 (부모-자식, 참조, 대체) |
| 벡터 DB | AI 검색용 임베딩 저장소 |
| RAG | Retrieval-Augmented Generation, AI 문서 검색 |

---

**문서 끝**
